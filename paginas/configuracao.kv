#:kivy 2.3.0
#:import utils kivy.utils
#:import dp kivy.metrics.dp

# Título padrão branco para o header (mesmo usado nas outras páginas)
<HeaderTitle@Label>:
    font_size: dp(22)
    bold: True
    color: 1, 1, 1, 1
    text_size: self.width - dp(16), None
    halign: 'center'
    valign: 'middle'

<Configuracao>:
    # Um único FloatLayout contendo o fundo + conteúdo
    FloatLayout:
        # Fundo com gradiente
        canvas.before:
            Color:
                rgba: 1, 1, 1, 1
            Rectangle:
                source: 'res/gradient.png'
                pos: self.pos
                size: self.size

        # CONTEÚDO
        BoxLayout:
            orientation: 'vertical'
            size_hint: (1, 1)

            # Safe area superior (notch/status bar)
            Widget:
                size_hint_y: None
                height: app.safe_top

            # HEADER (igual padrão das outras telas)
            BoxLayout:
                orientation: 'horizontal'
                size_hint_y: None
                height: dp(64)
                padding: [dp(8), 0, dp(8), 0]
                spacing: dp(8)

                # Voltar
                MDIconButton:
                    icon: "arrow-left"
                    size_hint: None, None
                    size: dp(40), dp(40)
                    theme_text_color: "Custom"
                    text_color: 1, 1, 1, 1
                    on_release: app.gerenciador.current = 'overview'

                # Título central
                BoxLayout:
                    orientation: "horizontal"
                    size_hint_x: 1
                    padding: [0, 0, 0, 0]

                    HeaderTitle:
                        text: 'Configurar meu Overview'
                        font_size: dp(22)
                        bold: True
                        halign: 'center'
                        valign: 'middle'
                        text_size: self.size
                        shorten: True

                # Espaçador direito (equilibra com o botão voltar à esquerda)
                Widget:
                    size_hint_x: None
                    width: dp(40)

            # CARD branco principal (respeita o safe_bottom)
            MDCard:
                size_hint: (1, 1)
                elevation: 4
                radius: [dp(60), dp(60), 0, 0]
                md_bg_color: utils.get_color_from_hex('#FFFFFF')
                pos_hint: {'center_x': 0.5}
                padding: [dp(30), dp(20), dp(30), max(app.safe_bottom, dp(8))]

                ScrollView:
                    BoxLayout:
                        orientation: 'vertical'
                        padding: dp(10)
                        spacing: dp(10)
                        size_hint_y: None
                        height: self.minimum_height

                        # ===================== Boia 10 =====================
                        BoxLayout:
                            codigo_boia: "10"
                            orientation: 'vertical'
                            size_hint_y: None
                            height: self.minimum_height
                            padding: dp(15)
                            spacing: dp(12)
                            canvas.before:
                                Color:
                                    rgba: (0, 0, 0, 0.2)
                                RoundedRectangle:
                                    size: [self.width + dp(6), self.height + dp(6)]
                                    pos: [self.x - dp(3), self.y - dp(3)]
                                    radius: [dp(18)]
                                Color:
                                    rgba: (1, 1, 1, 1)
                                RoundedRectangle:
                                    size: self.size
                                    pos: self.pos
                                    radius: [dp(15)]

                            Label:
                                text: "Boia 10"
                                font_size: dp(22)
                                color: (0.02, 0.29, 0.61, 1)
                                bold: True
                                halign: 'center'
                                valign: 'middle'
                                size_hint_y: None
                                height: dp(40)

                            GridLayout:
                                cols: 2
                                spacing: dp(10)
                                size_hint_y: None
                                height: self.minimum_height

                                Label:
                                    text: "Altura Onda"
                                    font_size: dp(18)
                                    color: (0.02, 0.29, 0.61, 1)
                                    halign: 'left'
                                    valign: 'middle'
                                    size_hint_y: None
                                    height: dp(40)
                                StyledCheckbox:
                                    id: chkbx_b10_altura
                                    on_state: app.toggle_parameter('Boia 10', 'Altura Onda', self.state)

                                Label:
                                    text: "Período Onda"
                                    font_size: dp(18)
                                    color: (0.02, 0.29, 0.61, 1)
                                    halign: 'left'
                                    valign: 'middle'
                                    size_hint_y: None
                                    height: dp(40)
                                StyledCheckbox:
                                    id: chkbx_b10_periodo
                                    on_state: app.toggle_parameter('Boia 10', 'Período Onda', self.state)

                                Label:
                                    text: "Direção Onda"
                                    font_size: dp(18)
                                    color: (0.02, 0.29, 0.61, 1)
                                    halign: 'left'
                                    valign: 'middle'
                                    size_hint_y: None
                                    height: dp(40)
                                StyledCheckbox:
                                    id: chkbx_b10_dirOnda
                                    on_state: app.toggle_parameter('Boia 10', 'Direção Onda', self.state)

                                Label:
                                    text: "Dir. Corr."
                                    font_size: dp(18)
                                    color: (0.02, 0.29, 0.61, 1)
                                    halign: 'left'
                                    valign: 'middle'
                                    size_hint_y: None
                                    height: dp(40)
                                StyledCheckbox:
                                    id: chkbx_b10_dir
                                    on_state: app.toggle_parameter('Boia 10', 'Dir. Corr.', self.state)

                                Label:
                                    text: "Vel. Corr."
                                    font_size: dp(18)
                                    color: (0.02, 0.29, 0.61, 1)
                                    halign: 'left'
                                    valign: 'middle'
                                    size_hint_y: None
                                    height: dp(40)
                                StyledCheckbox:
                                    id: chkbx_b10_vel
                                    on_state: app.toggle_parameter('Boia 10', 'Vel. Corr.', self.state)

                                Label:
                                    text: "Pitch"
                                    font_size: dp(18)
                                    color: (0.02, 0.29, 0.61, 1)
                                    halign: 'left'
                                    valign: 'middle'
                                    size_hint_y: None
                                    height: dp(40)
                                StyledCheckbox:
                                    id: chkbx_b10_pitch
                                    on_state: app.toggle_parameter('Boia 10', 'Pitch', self.state)

                                Label:
                                    text: "Roll"
                                    font_size: dp(18)
                                    color: (0.02, 0.29, 0.61, 1)
                                    halign: 'left'
                                    valign: 'middle'
                                    size_hint_y: None
                                    height: dp(40)
                                StyledCheckbox:
                                    id: chkbx_b10_roll
                                    on_state: app.toggle_parameter('Boia 10', 'Roll', self.state)

                                Label:
                                    text: "Bateria"
                                    font_size: dp(18)
                                    color: (0.02, 0.29, 0.61, 1)
                                    halign: 'left'
                                    valign: 'middle'
                                    size_hint_y: None
                                    height: dp(40)
                                StyledCheckbox:
                                    id: chkbx_b10_bateria
                                    on_state: app.toggle_parameter('Boia 10', 'Bateria', self.state)


                        # ===================== Boia 08 =====================
                        BoxLayout:
                            codigo_boia: "08"
                            orientation: 'vertical'
                            size_hint_y: None
                            height: self.minimum_height
                            padding: dp(15)
                            spacing: dp(12)
                            canvas.before:
                                Color:
                                    rgba: (0, 0, 0, 0.2)
                                RoundedRectangle:
                                    size: [self.width + dp(6), self.height + dp(6)]
                                    pos: [self.x - dp(3), self.y - dp(3)]
                                    radius: [dp(18)]
                                Color:
                                    rgba: (1, 1, 1, 1)
                                RoundedRectangle:
                                    size: self.size
                                    pos: self.pos
                                    radius: [dp(15)]

                            Label:
                                text: "Boia 08"
                                font_size: dp(22)
                                color: (0.02, 0.29, 0.61, 1)
                                bold: True
                                halign: 'center'
                                valign: 'middle'
                                size_hint_y: None
                                height: dp(40)

                            GridLayout:
                                cols: 2
                                spacing: dp(10)
                                size_hint_y: None
                                height: self.minimum_height

                                Label:
                                    text: "Altura Onda"
                                    font_size: dp(18)
                                    color: (0.02, 0.29, 0.61, 1)
                                    halign: 'left'
                                    valign: 'middle'
                                    size_hint_y: None
                                    height: dp(40)
                                StyledCheckbox:
                                    id: chkbx_b08_altura
                                    on_state: app.toggle_parameter('Boia 08', 'Altura Onda', self.state)

                                Label:
                                    text: "Período Onda"
                                    font_size: dp(18)
                                    color: (0.02, 0.29, 0.61, 1)
                                    halign: 'left'
                                    valign: 'middle'
                                    size_hint_y: None
                                    height: dp(40)
                                StyledCheckbox:
                                    id: chkbx_b08_periodo
                                    on_state: app.toggle_parameter('Boia 08', 'Período Onda', self.state)

                                Label:
                                    text: "Direção Onda"
                                    font_size: dp(18)
                                    color: (0.02, 0.29, 0.61, 1)
                                    halign: 'left'
                                    valign: 'middle'
                                    size_hint_y: None
                                    height: dp(40)
                                StyledCheckbox:
                                    id: chkbx_b08_dirOnda
                                    on_state: app.toggle_parameter('Boia 08', 'Direção Onda', self.state)

                                Label:
                                    text: "Dir. Corr."
                                    font_size: dp(18)
                                    color: (0.02, 0.29, 0.61, 1)
                                    halign: 'left'
                                    valign: 'middle'
                                    size_hint_y: None
                                    height: dp(40)
                                StyledCheckbox:
                                    id: chkbx_b08_dir
                                    on_state: app.toggle_parameter('Boia 08', 'Dir. Corr.', self.state)

                                Label:
                                    text: "Vel. Corr."
                                    font_size: dp(18)
                                    color: (0.02, 0.29, 0.61, 1)
                                    halign: 'left'
                                    valign: 'middle'
                                    size_hint_y: None
                                    height: dp(40)
                                StyledCheckbox:
                                    id: chkbx_b08_vel
                                    on_state: app.toggle_parameter('Boia 08', 'Vel. Corr.', self.state)

                                Label:
                                    text: "Pitch"
                                    font_size: dp(18)
                                    color: (0.02, 0.29, 0.61, 1)
                                    halign: 'left'
                                    valign: 'middle'
                                    size_hint_y: None
                                    height: dp(40)
                                StyledCheckbox:
                                    id: chkbx_b08_pitch
                                    on_state: app.toggle_parameter('Boia 08', 'Pitch', self.state)

                                Label:
                                    text: "Roll"
                                    font_size: dp(18)
                                    color: (0.02, 0.29, 0.61, 1)
                                    halign: 'left'
                                    valign: 'middle'
                                    size_hint_y: None
                                    height: dp(40)
                                StyledCheckbox:
                                    id: chkbx_b08_roll
                                    on_state: app.toggle_parameter('Boia 08', 'Roll', self.state)

                                Label:
                                    text: "Bateria"
                                    font_size: dp(18)
                                    color: (0.02, 0.29, 0.61, 1)
                                    halign: 'left'
                                    valign: 'middle'
                                    size_hint_y: None
                                    height: dp(40)
                                StyledCheckbox:
                                    id: chkbx_b08_bateria
                                    on_state: app.toggle_parameter('Boia 08', 'Bateria', self.state)

                        # ===================== Boia 04 =====================
                        BoxLayout:
                            codigo_boia: "04"
                            orientation: 'vertical'
                            size_hint_y: None
                            height: self.minimum_height
                            padding: dp(15)
                            spacing: dp(12)
                            canvas.before:
                                Color:
                                    rgba: (0, 0, 0, 0.2)
                                RoundedRectangle:
                                    size: [self.width + dp(6), self.height + dp(6)]
                                    pos: [self.x - dp(3), self.y - dp(3)]
                                    radius: [dp(18)]
                                Color:
                                    rgba: (1, 1, 1, 1)
                                RoundedRectangle:
                                    size: self.size
                                    pos: self.pos
                                    radius: [dp(15)]

                            Label:
                                text: "Boia 04"
                                font_size: dp(22)
                                color: (0.02, 0.29, 0.61, 1)
                                bold: True
                                halign: 'center'
                                valign: 'middle'
                                size_hint_y: None
                                height: dp(40)

                            GridLayout:
                                cols: 2
                                spacing: dp(10)
                                size_hint_y: None
                                height: self.minimum_height

                                Label:
                                    text: "Altura Onda"
                                    font_size: dp(18)
                                    color: (0.02, 0.29, 0.61, 1)
                                    halign: 'left'
                                    valign: 'middle'
                                    size_hint_y: None
                                    height: dp(40)
                                StyledCheckbox:
                                    id: chkbx_b04_altura
                                    on_state: app.toggle_parameter('Boia 04', 'Altura Onda', self.state)

                                Label:
                                    text: "Período Onda"
                                    font_size: dp(18)
                                    color: (0.02, 0.29, 0.61, 1)
                                    halign: 'left'
                                    valign: 'middle'
                                    size_hint_y: None
                                    height: dp(40)
                                StyledCheckbox:
                                    id: chkbx_b04_periodo
                                    on_state: app.toggle_parameter('Boia 04', 'Período Onda', self.state)

                                Label:
                                    text: "Direção Onda"
                                    font_size: dp(18)
                                    color: (0.02, 0.29, 0.61, 1)
                                    halign: 'left'
                                    valign: 'middle'
                                    size_hint_y: None
                                    height: dp(40)
                                StyledCheckbox:
                                    id: chkbx_b08_dirOnda
                                    on_state: app.toggle_parameter('Boia 08', 'Direção Onda', self.state)

                                Label:
                                    text: "Dir. Corr."
                                    font_size: dp(18)
                                    color: (0.02, 0.29, 0.61, 1)
                                    halign: 'left'
                                    valign: 'middle'
                                    size_hint_y: None
                                    height: dp(40)
                                StyledCheckbox:
                                    id: chkbx_b04_dir
                                    on_state: app.toggle_parameter('Boia 04', 'Dir. Corr.', self.state)

                                Label:
                                    text: "Vel. Corr."
                                    font_size: dp(18)
                                    color: (0.02, 0.29, 0.61, 1)
                                    halign: 'left'
                                    valign: 'middle'
                                    size_hint_y: None
                                    height: dp(40)
                                StyledCheckbox:
                                    id: chkbx_b04_vel
                                    on_state: app.toggle_parameter('Boia 04', 'Vel. Corr.', self.state)

                                Label:
                                    text: "Pitch"
                                    font_size: dp(18)
                                    color: (0.02, 0.29, 0.61, 1)
                                    halign: 'left'
                                    valign: 'middle'
                                    size_hint_y: None
                                    height: dp(40)
                                StyledCheckbox:
                                    id: chkbx_b04_pitch
                                    on_state: app.toggle_parameter('Boia 04', 'Pitch', self.state)

                                Label:
                                    text: "Roll"
                                    font_size: dp(18)
                                    color: (0.02, 0.29, 0.61, 1)
                                    halign: 'left'
                                    valign: 'middle'
                                    size_hint_y: None
                                    height: dp(40)
                                StyledCheckbox:
                                    id: chkbx_b04_roll
                                    on_state: app.toggle_parameter('Boia 04', 'Roll', self.state)

                                Label:
                                    text: "Bateria"
                                    font_size: dp(18)
                                    color: (0.02, 0.29, 0.61, 1)
                                    halign: 'left'
                                    valign: 'middle'
                                    size_hint_y: None
                                    height: dp(40)
                                StyledCheckbox:
                                    id: chkbx_b04_bateria
                                    on_state: app.toggle_parameter('Boia 04', 'Bateria', self.state)

                        # ================= Ondógrafo Píer II =================
                        BoxLayout:
                            orientation: 'vertical'
                            size_hint_y: None
                            height: self.minimum_height
                            padding: dp(15)
                            spacing: dp(12)
                            canvas.before:
                                Color:
                                    rgba: (0, 0, 0, 0.2)
                                RoundedRectangle:
                                    size: [self.width + dp(6), self.height + dp(6)]
                                    pos: [self.x - dp(3), self.y - dp(3)]
                                    radius: [dp(18)]
                                Color:
                                    rgba: (1, 1, 1, 1)
                                RoundedRectangle:
                                    size: self.size
                                    pos: self.pos
                                    radius: [dp(15)]

                            Label:
                                text: "Ondógrafo Píer II"
                                font_size: dp(22)
                                color: (0.02, 0.29, 0.61, 1)
                                bold: True
                                halign: 'center'
                                valign: 'middle'
                                size_hint_y: None
                                height: dp(40)

                            GridLayout:
                                cols: 2
                                spacing: dp(10)
                                size_hint_y: None
                                height: self.minimum_height

                                Label:
                                    text: "Altura"
                                    font_size: dp(18)
                                    color: (0.02, 0.29, 0.61, 1)
                                    halign: 'left'
                                    valign: 'middle'
                                    size_hint_y: None
                                    height: dp(40)
                                StyledCheckbox:
                                    id: chkbx_pii_altura
                                    on_state: app.toggle_parameter('Ondógrafo Píer II', 'Altura', self.state)

                                Label:
                                    text: "Período"
                                    font_size: dp(18)
                                    color: (0.02, 0.29, 0.61, 1)
                                    halign: 'left'
                                    valign: 'middle'
                                    size_hint_y: None
                                    height: dp(40)
                                StyledCheckbox:
                                    id: chkbx_pii_periodo
                                    on_state: app.toggle_parameter('Ondógrafo Píer II', 'Período', self.state)
                                Label:
                                    text: "Período Médio"
                                    font_size: dp(18)
                                    color: (0.02, 0.29, 0.61, 1)
                                    halign: 'left'
                                    valign: 'middle'
                                    size_hint_y: None
                                    height: dp(40)
                                StyledCheckbox:
                                    id: chkbx_pii_periodo_medio
                                    on_state: app.toggle_parameter('Ondógrafo Píer II', 'Período Médio', self.state)

                        # =================== Ondógrafo TGL ==================
                        BoxLayout:
                            nome: "Ondógrafo TGL"
                            orientation: 'vertical'
                            size_hint_y: None
                            height: self.minimum_height
                            padding: dp(15)
                            spacing: dp(12)
                            canvas.before:
                                Color:
                                    rgba: (0, 0, 0, 0.2)
                                RoundedRectangle:
                                    size: [self.width + dp(6), self.height + dp(6)]
                                    pos: [self.x - dp(3), self.y - dp(3)]
                                    radius: [dp(18)]
                                Color:
                                    rgba: (1, 1, 1, 1)
                                RoundedRectangle:
                                    size: self.size
                                    pos: self.pos
                                    radius: [dp(15)]

                            Label:
                                text: "Ondógrafo TGL"
                                font_size: dp(22)
                                color: (0.02, 0.29, 0.61, 1)
                                bold: True
                                halign: 'center'
                                valign: 'middle'
                                size_hint_y: None
                                height: dp(40)

                            GridLayout:
                                cols: 2
                                spacing: dp(10)
                                size_hint_y: None
                                height: self.minimum_height

                                Label:
                                    text: "Altura"
                                    font_size: dp(18)
                                    color: (0.02, 0.29, 0.61, 1)
                                    halign: 'left'
                                    valign: 'middle'
                                    size_hint_y: None
                                    height: dp(40)
                                StyledCheckbox:
                                    id: chkbx_tgl_altura
                                    on_state: app.toggle_parameter('Ondógrafo TGL', 'Altura', self.state)

                                Label:
                                    text: "Período"
                                    font_size: dp(18)
                                    color: (0.02, 0.29, 0.61, 1)
                                    halign: 'left'
                                    valign: 'middle'
                                    size_hint_y: None
                                    height: dp(40)
                                StyledCheckbox:
                                    id: chkbx_tgl_periodo
                                    on_state: app.toggle_parameter('Ondógrafo TGL', 'Período', self.state)
                                Label:
                                    text: "Período Médio"
                                    font_size: dp(18)
                                    color: (0.02, 0.29, 0.61, 1)
                                    halign: 'left'
                                    valign: 'middle'
                                    size_hint_y: None
                                    height: dp(40)
                                StyledCheckbox:
                                    id: chkbx_tgl_periodo_medio
                                    on_state: app.toggle_parameter('Ondógrafo TGL', 'Período Médio', self.state)

                        # =================== Ondógrafo TPD ==================
                        BoxLayout:
                            orientation: 'vertical'
                            size_hint_y: None
                            height: self.minimum_height
                            padding: dp(15)
                            spacing: dp(12)
                            canvas.before:
                                Color:
                                    rgba: (0, 0, 0, 0.2)
                                RoundedRectangle:
                                    size: [self.width + dp(6), self.height + dp(6)]
                                    pos: [self.x - dp(3), self.y - dp(3)]
                                    radius: [dp(18)]
                                Color:
                                    rgba: (1, 1, 1, 1)
                                RoundedRectangle:
                                    size: self.size
                                    pos: self.pos
                                    radius: [dp(15)]

                            Label:
                                text: "Ondógrafo TPD"
                                font_size: dp(22)
                                color: (0.02, 0.29, 0.61, 1)
                                bold: True
                                halign: 'center'
                                valign: 'middle'
                                size_hint_y: None
                                height: dp(40)

                            GridLayout:
                                cols: 2
                                spacing: dp(10)
                                size_hint_y: None
                                height: self.minimum_height

                                Label:
                                    text: "Altura"
                                    font_size: dp(18)
                                    color: (0.02, 0.29, 0.61, 1)
                                    halign: 'left'
                                    valign: 'middle'
                                    size_hint_y: None
                                    height: dp(40)
                                StyledCheckbox:
                                    id: chkbx_tpd_altura
                                    on_state: app.toggle_parameter('Ondógrafo TPD', 'Altura', self.state)

                                Label:
                                    text: "Período"
                                    font_size: dp(18)
                                    color: (0.02, 0.29, 0.61, 1)
                                    halign: 'left'
                                    valign: 'middle'
                                    size_hint_y: None
                                    height: dp(40)
                                StyledCheckbox:
                                    id: chkbx_tpd_periodo
                                    on_state: app.toggle_parameter('Ondógrafo TPD', 'Período', self.state)
                                Label:
                                    text: "Período Médio"
                                    font_size: dp(18)
                                    color: (0.02, 0.29, 0.61, 1)
                                    halign: 'left'
                                    valign: 'middle'
                                    size_hint_y: None
                                    height: dp(40)
                                StyledCheckbox:
                                    id: chkbx_tpd_periodo_medio
                                    on_state: app.toggle_parameter('Ondógrafo TPD', 'Período Médio', self.state)

                        # =================== Ondógrafo TPM ==================
                        BoxLayout:
                            orientation: 'vertical'
                            size_hint_y: None
                            height: self.minimum_height
                            padding: dp(15)
                            spacing: dp(12)
                            canvas.before:
                                Color:
                                    rgba: (0, 0, 0, 0.2)
                                RoundedRectangle:
                                    size: [self.width + dp(6), self.height + dp(6)]
                                    pos: [self.x - dp(3), self.y - dp(3)]
                                    radius: [dp(18)]
                                Color:
                                    rgba: (1, 1, 1, 1)
                                RoundedRectangle:
                                    size: self.size
                                    pos: self.pos
                                    radius: [dp(15)]

                            Label:
                                text: "Ondógrafo TPM"
                                font_size: dp(22)
                                color: (0.02, 0.29, 0.61, 1)
                                bold: True
                                halign: 'center'
                                valign: 'middle'
                                size_hint_y: None
                                height: dp(40)

                            GridLayout:
                                cols: 2
                                spacing: dp(10)
                                size_hint_y: None
                                height: self.minimum_height

                                Label:
                                    text: "Altura"
                                    font_size: dp(18)
                                    color: (0.02, 0.29, 0.61, 1)
                                    halign: 'left'
                                    valign: 'middle'
                                    size_hint_y: None
                                    height: dp(40)
                                StyledCheckbox:
                                    id: chkbx_tpm_altura
                                    on_state: app.toggle_parameter('Ondógrafo TPM', 'Altura', self.state)

                                Label:
                                    text: "Período"
                                    font_size: dp(18)
                                    color: (0.02, 0.29, 0.61, 1)
                                    halign: 'left'
                                    valign: 'middle'
                                    size_hint_y: None
                                    height: dp(40)
                                StyledCheckbox:
                                    id: chkbx_tpm_periodo
                                    on_state: app.toggle_parameter('Ondógrafo TPM', 'Período', self.state)
                                Label:
                                    text: "Período Médio"
                                    font_size: dp(18)
                                    color: (0.02, 0.29, 0.61, 1)
                                    halign: 'left'
                                    valign: 'middle'
                                    size_hint_y: None
                                    height: dp(40)
                                StyledCheckbox:
                                    id: chkbx_tpm_periodo_medio
                                    on_state: app.toggle_parameter('Ondógrafo TPM', 'Período Médio', self.state)

                        # ====================== Marégrafo ====================
                        BoxLayout:
                            orientation: 'vertical'
                            size_hint_y: None
                            height: self.minimum_height
                            padding: dp(15)
                            spacing: dp(12)
                            canvas.before:
                                Color:
                                    rgba: (0, 0, 0, 0.2)
                                RoundedRectangle:
                                    size: [self.width + dp(6), self.height + dp(6)]
                                    pos: [self.x - dp(3), self.y - dp(3)]
                                    radius: [dp(18)]
                                Color:
                                    rgba: (1, 1, 1, 1)
                                RoundedRectangle:
                                    size: self.size
                                    pos: self.pos
                                    radius: [dp(15)]

                            Label:
                                text: "Marégrafo"
                                font_size: dp(22)
                                color: (0.02, 0.29, 0.61, 1)
                                bold: True
                                halign: 'center'
                                valign: 'middle'
                                size_hint_y: None
                                height: dp(40)

                            GridLayout:
                                cols: 2
                                spacing: dp(10)
                                size_hint_y: None
                                height: self.minimum_height

                                Label:
                                    text: "Maré Reduzida"
                                    font_size: dp(18)
                                    color: (0.02, 0.29, 0.61, 1)
                                    halign: 'left'
                                    valign: 'middle'
                                    size_hint_y: None
                                    height: dp(40)
                                StyledCheckbox:
                                    id: chkbx_maregrafo_mare
                                    on_state: app.toggle_parameter('Marégrafo', 'Maré Reduzida', self.state)

                        # ============== Estação Meteorológica ===============
                        BoxLayout:
                            codigo_estacao: ""
                            orientation: 'vertical'
                            size_hint_y: None
                            height: self.minimum_height
                            padding: dp(15)
                            spacing: dp(12)
                            canvas.before:
                                Color:
                                    rgba: (0, 0, 0, 0.2)
                                RoundedRectangle:
                                    size: [self.width + dp(6), self.height + dp(6)]
                                    pos: [self.x - dp(3), self.y - dp(3)]
                                    radius: [dp(18)]
                                Color:
                                    rgba: (1, 1, 1, 1)
                                RoundedRectangle:
                                    size: self.size
                                    pos: self.pos
                                    radius: [dp(15)]

                            Label:
                                text: "Estação Meteorológica "
                                font_size: dp(22)
                                color: (0.02, 0.29, 0.61, 1)
                                bold: True
                                halign: 'center'
                                valign: 'middle'
                                size_hint_y: None
                                height: dp(40)

                            GridLayout:
                                cols: 2
                                spacing: dp(10)
                                size_hint_y: None
                                height: self.minimum_height

                                Label:
                                    text: "Vel. Vento"
                                    font_size: dp(18)
                                    color: (0.02, 0.29, 0.61, 1)
                                    halign: 'left'
                                    valign: 'middle'
                                    size_hint_y: None
                                    height: dp(40)
                                StyledCheckbox:
                                    id: chkbx_estacao_velvento
                                    on_state: app.toggle_parameter('Estação Meteorológica', 'Vel. Vento', self.state)

                                Label:
                                    text: "Rajada"
                                    font_size: dp(18)
                                    color: (0.02, 0.29, 0.61, 1)
                                    halign: 'left'
                                    valign: 'middle'
                                    size_hint_y: None
                                    height: dp(40)
                                StyledCheckbox:
                                    id: chkbx_estacao_rajada
                                    on_state: app.toggle_parameter('Estação Meteorológica', 'Rajada', self.state)

                                Label:
                                    text: "Dir. Vento"
                                    font_size: dp(18)
                                    color: (0.02, 0.29, 0.61, 1)
                                    halign: 'left'
                                    valign: 'middle'
                                    size_hint_y: None
                                    height: dp(40)
                                StyledCheckbox:
                                    id: chkbx_estacao_dirvento
                                    on_state: app.toggle_parameter('Estação Meteorológica', 'Dir. Vento', self.state)

                                Label:
                                    text: "Chuva"
                                    font_size: dp(18)
                                    color: (0.02, 0.29, 0.61, 1)
                                    halign: 'left'
                                    valign: 'middle'
                                    size_hint_y: None
                                    height: dp(40)
                                StyledCheckbox:
                                    id: chkbx_estacao_chuva
                                    on_state: app.toggle_parameter('Estação Meteorológica', 'Chuva', self.state)
